function Chatbox(e){function t(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var s=o[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null}var o=this;this.history=[],this.placeholder="Please log in to chat",this.botName="BBot",this.ioConnString="http://localhost:5000",this.lastMsgUsr="",this.chatMsg="",this.getUser=function(){return t("user")},this.scope=e,e.$watch("loggedIn",function(e){e&&o.connect()}),this.connect=function(){function t(t,s){if(o.lastMsgUsr==t){var c=n.length;n[c-1].messages.push(s)}else o.lastMsgUsr=t,n.push({user:t,messages:[s]});e.$apply()}var n=this.history,s=this.botName;this.socket=io().connect(this.ioConnString,{query:"session_id="+this.getUser(),timeout:36e5}),this.socket.on("chat",function(e){console.log("chattin"),t(e.user,e.msg)}),this.socket.on("conn",function(e){console.log("connected user:",e);var o=e+" has joined.";t(s,o)}),this.socket.on("dc",function(e){var o=e+" has left.";t(s,o)}),this.socket.on("advance",function(){console.log("advance recieved")})}}function ManagementController(e,t){var o=this;o.users=[],o.roles=["admin","host","dj","listener"],o.http=t,this.getUsers=function(){this.http.get("/users/all").then(function(e){o.users=e.data})},this.changeRole=function(e){console.log(e),t.post("/users/role",e).then(function(){o.getUsers()})},this.getUsers()}var app=angular.module("myApp",["ngAnimate","ngCookies","luegg.directives"]);app.controller("ChatboxController",["$scope",Chatbox]),Chatbox.prototype.sendChat=function(){return this.socket.connected||this.connect(),this.socket.emit("chat",this.chatMsg),this.chatMsg="",!1},app.controller("IndexController",["$scope","$http","$cookies",function($scope,$http,$cookies){function getMenuBtns(){$scope.menuBtns=[],$http.get("/menuBtns").then(function(e){for(var t=0;t<e.data.length;t++)$scope.menuBtns.push(new MenuBtn(e.data[t]))},function(e){401==e.status&&($scope.loggedIn=!1,$scope.menuBtns=[{icon:"sign-in",title:"Log In",action:function(){$scope.loggingIn=!0},area:"left"}])})}function setAlert(e,t){$scope.alert.message=e,$scope.alert.status=t,setTimeout(function(){$scope.alert.status="",$scope.alert.message="",$scope.$apply()},3e3)}function checkPass(){var e=$scope.acct.password;return $scope.acct.upper=/[A-Z]+/.test(e),$scope.acct.lower=/[a-z]+/.test(e),$scope.acct.num=/[0-9]+/.test(e),$scope.acct.special=/[!@#$%^(){}[\]~\-_:]+/.test(e),$scope.acct.length=e.length>=8,$scope.acct.upper&&$scope.acct.lower&&$scope.acct.num&&$scope.acct.special&&$scope.acct.length}function advanceSong(){console.log("advancing"),$http.get("/queue/next").then(function(e){console.log(e.data),SC.get("/tracks/"+e.data.id).then(function(t){$scope.playSound(t,e.data.curTime)})})}function checkSong(){console.log("checking song"),$http.get("/queue/next").then(function(e){e.data.id!=$scope.curSong.id&&advanceSong()})}function MenuBtn(btn){this.icon=btn.icon,this.title=btn.title;var action=btn.action;this.action=function(){eval(action)},this.area=btn.area}$scope.itworks="Hello!",$scope.menuBtns=[],$scope.newSong="kid-cudi",$scope.curSong={id:"No Song Playing"},$scope.history=[],$scope.loggingIn=!1,$scope.alert={status:"",message:""},$scope.acct={role:"listener",username:"",password:""};var pass=$scope.acct.password;$scope.acct.upper=/[A-Z]+/.test(pass),$scope.acct.lower=/[a-z]+/.test(pass),$scope.acct.num=/[0-9]+/.test(pass),$scope.acct.special=/[!@#$%^(){}[\]~\-_]+/.test(pass),$scope.historyOpen=!1,$scope.searchOpen=!1,$scope.mgmtOpen=!1,$scope.showDev=!1,$scope.songProgressStyle={},$scope.songProgress=0;var songProgressInterval;$scope.Math=Math,$scope.SCResults=[],$scope.loggedIn=!!$cookies.get("user"),$scope.loggedIn?$scope.chatplaceholder="":$scope.chatplaceholder="Please log in to chat",$scope.songQueue=[];var socket,ioConnString="http://localhost:5000",lastMsgUser="",gPlayer;SC.initialize({client_id:"2f5df4628f89bc06dc6f88789d5eb0ae",redirect_uri:"http://treesradio.net/soundcloud/callback.html"}),$scope.searchSound=function(e){console.log("Searching for song:",e),SC.get("/tracks/",{q:e,streamable:!0}).then(function(e){console.log(e),$scope.SCResults=e,$scope.$apply()})},$scope.toggleHistory=function(){$scope.historyOpen=!$scope.historyOpen},$scope.login=function(){console.log("logging in"),$http.post("/login",$scope.acct).then(function(e){e.data.success&&($scope.loggingIn=!1,setAlert("Thank you for logging in","success"),getMenuBtns(),$scope.loggedIn=!0,$scope.chatplaceholder="")})},$scope.logout=function(){$http.get("/logout").then(function(){$cookies.remove("user"),getMenuBtns()})},$scope.registerAcct=function(){checkPass()?($scope.loggingIn=!1,$http.post("/register",$scope.acct).then(function(e){console.log(e.data),setAlert("Thank you for registering","success"),setTimeout(function(){},3e3),getMenuBtns()})):setAlert("Password must contain: Uppercase letter,Lowercase letter,number,special character","danger")},$scope.playSound=function(e,t){t||(t=0),console.log("playsound:",e.id),console.log("current time:",t),$scope.songProgressStyle={transition:"all linear 1s",width:"10px"},SC.stream("/tracks/"+e.id).then(function(o){$scope.curSong=e,console.log($scope.curSong),$scope.history.push(e),clearInterval(songProgressInterval),gPlayer=o,console.log(gPlayer),gPlayer.seek(t),gPlayer.play(),setTimeout(function(){$scope.songProgressStyle={transition:"all linear "+e.duration+"ms",width:"100%"},$scope.$apply()},3e3),songProgressInterval=setInterval(function(){$scope.$apply()},1e3)})},$scope.formatTime=function(e){return Math.floor(Math.floor(e/1e3)/60)+":"+("0"+e%60).substring(0,2)},$scope.queueAdd=function(e){console.log("adding track:",e),$http.post("/queue/add",e)},$scope.getQueue=function(){$http.get("/queue").then(function(e){console.log("upcoming queue:"),console.log(e.data),$scope.songQueue=e.data})},$scope.kickoff=function(){$http.get("/queue/kickoff")},$scope.advanceSong=function(){advanceSong()},$scope.skip=function(){console.log("skippin"),$http.get("/queue/skip")},$scope.start=function(){},$scope.$watch("acct.password",function(){checkPass()}),$scope.changeRank=function(e){e.changeRank?e.changeRank=!1:e.changeRank=!0},getMenuBtns(),$scope.getQueue(),setInterval(checkSong,1e3),advanceSong()}]),$(function(){function e(){$(".mainWrapper").height($(window).height()),$("main").height($(".mainWrapper").height()),$(".contentWrapper").height($("main").height()),$(".leftMenu").height($(".mainWrapper").height()),$(".rightSidebar").height($(".mainWrapper").height()),$(".chatbox").height($(".rightSidebar").height()),$("#messageContainer").height($(".chatbox").height()-$(".chatbox").children("form").height()),$(".SCResults").height($(".contentWrapper").height()-85),$(".management").height($(".contentWrapper").height()-85),$(".usergrp").height($(".management").height()),$(".songQueue").height($(".leftMenu").height()-$(".leftBtns").height()-10)}e(),$(window).resize(function(){e()});var t=$("#messageContainer");t[0].scrollTop=t[0].scrollHeight,$(".chatbox").children("form").keyup(function(e){13==e.keyCode&&(t[0].scrollTop=t[0].scrollHeight,$(this).val(""))}).focus()}),app.controller("ManagementController",["$scope","$http",ManagementController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL0NoYXRib3hDb250cm9sbGVyLnRzIiwiY29udHJvbGxlcnMvTWFuYWdlbWVudENvbnRyb2xsZXIudHMiLCJhcHAudHMiLCJjb250cm9sbGVycy9JbmRleENvbnRyb2xsZXIudHMiLCJqcXVpYmJsZXMudHMiXSwibmFtZXMiOlsiQ2hhdGJveCIsIiRzY29wZSIsIkNoYXRib3gucmVhZENvb2tpZSIsInJlYWRDb29raWUiLCJuZXdWYWwiLCJjYiIsImNvbm5lY3QiLCJwdXNoTWVzc2FnZSIsInVzciIsIm1zZyIsImhpc3QiLCJ0aGlzIiwiaGlzdG9yeSIsImJvdE5hbWUiLCJzb2NrZXQiLCJpbyIsImlvQ29ublN0cmluZyIsInF1ZXJ5IiwiZ2V0VXNlciIsInRpbWVvdXQiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwibWVzc2FnZSIsIk1hbmFnZW1lbnRDb250cm9sbGVyIiwiJGh0dHAiLCJodHRwIiwiZ2V0IiwidGhlbiIsInJlc3AiLCJtZyIsInVzZXJzIiwiZGF0YSIsInBvc3QiLCJnZXRVc2VycyIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwicHJvdG90eXBlIiwic2VuZENoYXQiLCJjb25uZWN0ZWQiLCJlbWl0IiwiY2hhdE1zZyIsIiRjb29raWVzIiwiZ2V0TWVudUJ0bnMiLCJpIiwibGVuZ3RoIiwibWVudUJ0bnMiLCJwdXNoIiwiTWVudUJ0biIsInN0YXR1cyIsImxvZ2dlZEluIiwiaWNvbiIsInRpdGxlIiwiYWN0aW9uIiwibG9nZ2luZ0luIiwiYXJlYSIsInNldEFsZXJ0IiwiYWxlcnQiLCIkYXBwbHkiLCJjaGVja1Bhc3MiLCJhZHZhbmNlU29uZyIsIlNDIiwiaWQiLCJ0cmFjayIsInBsYXlTb3VuZCIsImN1clRpbWUiLCJjaGVja1NvbmciLCJjdXJTb25nIiwiYnRuIiwiZXZhbCIsIml0d29ya3MiLCJuZXdTb25nIiwiYWNjdCIsInJvbGUiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicGFzcyIsInVwcGVyIiwidGVzdCIsImxvd2VyIiwibnVtIiwic3BlY2lhbCIsImhpc3RvcnlPcGVuIiwic2VhcmNoT3BlbiIsIm1nbXRPcGVuIiwic2hvd0RldiIsInNvbmdQcm9ncmVzc1N0eWxlIiwic29uZ1Byb2dyZXNzIiwic29uZ1Byb2dyZXNzSW50ZXJ2YWwiLCJNYXRoIiwiU0NSZXN1bHRzIiwiY2hhdHBsYWNlaG9sZGVyIiwic29uZ1F1ZXVlIiwibGFzdE1zZ1VzZXIiLCJnUGxheWVyIiwiaW5pdGlhbGl6ZSIsImNsaWVudF9pZCIsInJlZGlyZWN0X3VyaSIsInNlYXJjaFNvdW5kIiwicSIsInN0cmVhbWFibGUiLCJ0cmFja3MiLCJ0b2dnbGVIaXN0b3J5IiwibG9naW4iLCJzdWNjZXNzIiwibG9nb3V0IiwicmVtb3ZlIiwicmVnaXN0ZXJBY2N0Iiwic2V0VGltZW91dCIsInRpbWUiLCJ0cmFuc2l0aW9uIiwid2lkdGgiLCJzdHJlYW0iLCJwbGF5ZXIiLCJjbGVhckludGVydmFsIiwic2VlayIsInBsYXkiLCJkdXJhdGlvbiIsInNldEludGVydmFsIiwiZm9ybWF0VGltZSIsImZsb29yIiwic3Vic3RyaW5nIiwicXVldWVBZGQiLCJnZXRRdWV1ZSIsImtpY2tvZmYiLCJza2lwIiwic3RhcnQiLCIkd2F0Y2giLCJjaGFuZ2VSYW5rIiwiJCIsInJlc2l6ZU1haW4iLCJ3aW5kb3ciLCJyZXNpemUiLCIkY29udCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNoaWxkcmVuIiwia2V5dXAiLCJlIiwia2V5Q29kZSIsInZhbCIsImZvY3VzIl0sIm1hcHBpbmdzIjoiQUFLQSxRQUFBQSxTQUFpQkMsR0FjYkQsUUFBQUEsR0FBb0JBLEdBR2hCRSxJQUFJQSxHQUZBQSxHQUFTQSxFQUFPQSxJQUNoQkEsRUFBS0EsU0FBU0EsT0FBT0EsTUFBTUEsS0FDdkJBLEVBQUVBLEVBQUVBLEVBQUlBLEVBQUdBLE9BQU9BLElBQUtBLENBRTNCQSxJQURBQSxHQUFJQSxHQUFJQSxFQUFHQSxHQUNTQSxLQUFiQSxF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UUEsVUFDbkNBLEVBQUVBLFFBQVFBLE9BQU9BLEVBQUVBLGdCQUFnQkEsVUFDbkNBLEVBQUVBLG1CQUFtQkEsT0FBT0EsRUFBRUEsUUFBUUEsVUFDdENBLEVBQUVBLGFBQWFBLE9BQU9BLEVBQUVBLGdCQUFnQkEsVUFDeENBLEVBQUVBLGlCQUFpQkEsT0FBT0EsRUFBRUEsZ0JBQWdCQSxVQUM1Q0EsRUFBRUEsWUFBWUEsT0FBT0EsRUFBRUEsaUJBQWlCQSxVQUN4Q0EsRUFBRUEscUJBQXFCQSxPQUFPQSxFQUFFQSxZQUFZQSxTQUFTQSxFQUFFQSxZQUFZQSxTQUFTQSxRQUFRQSxVQUNwRkEsRUFBRUEsY0FBY0EsT0FBT0EsRUFBRUEsbUJBQW1CQSxTQUFTQSxJQUNyREEsRUFBRUEsZUFBZUEsT0FBT0EsRUFBRUEsbUJBQW1CQSxTQUFTQSxJQUN0REEsRUFBRUEsWUFBWUEsT0FBT0EsRUFBRUEsZUFBZUEsVUFDdENBLEVBQUVBLGNBQWNBLE9BQU9BLEVBQUVBLGFBQWFBLFNBQVNBLEVBQUVBLGFBQWFBLFNBQVNBLElBM0IzRUEsSUFDQUQsRUFBRUUsUUFBUUMsT0FBTyxXQUNiRixLQUVKLElBQUlHLEdBQVFKLEVBQUUsb0JBQ2RJLEdBQU0sR0FBR0MsVUFBWUQsRUFBTSxHQUFHRSxhQUU5Qk4sRUFBRSxZQUFZTyxTQUFTLFFBQVFDLE1BQU0sU0FBU0MsR0FDekIsSUFBYkEsRUFBRUMsVUFFRk4sRUFBTSxHQUFHQyxVQUFZRCxFQUFNLEdBQUdFLGFBQzlCTixFQUFFekgsTUFBTW9JLElBQUksT0FFakJDLFVIZlA1RyxJQUFJRyxXQUFXLHdCQUF3QixTQUFTLFFBQVFkIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsbnVsbCwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHNEZWZzLmQudHNcIi8+XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLFsnbmdBbmltYXRlJywnbmdDb29raWVzJywnbHVlZ2cuZGlyZWN0aXZlcyddKTtcblxuXG5cblxuXG5cblxuLy9hcHAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpe1xuLy8gICAgJHNjb3BlLml0d29ya3MgPSAnSGVsbG8gV29ybGQnO1xuLy99XSk7XG5cblxuLy9hcHAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKXtcbi8vICAgICRyb3V0ZVByb3ZpZGVyXG4vLyAgICAud2hlbignLycse1xuLy8gICAgICAgICAgICB0ZW1wbGF0ZVVybDondmlld3MvaG9tZS5odG1sJyxcbi8vICAgICAgICAgICAgY29udHJvbGxlcjonSW5kZXhDb250cm9sbGVyJ1xuLy8gICAgICAgIH0pO1xuLy9cbi8vICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbi8vfSk7XG4iLG51bGwsIi8qKlxuICogQ3JlYXRlZCBieSBOaWNrIG9uIDEwLzEzLzE1LlxuICovXG4vLy8gPHJlZmVyZW5jZSBwYXRoPScuL3RzRGVmcy5kLnRzJy8+XG4kKGZ1bmN0aW9uKCkge1xuICAgIHJlc2l6ZU1haW4oKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlc2l6ZU1haW4oKTtcbiAgICB9KTtcbiAgICB2YXIgJGNvbnQgPSAkKCcjbWVzc2FnZUNvbnRhaW5lcicpO1xuICAgICRjb250WzBdLnNjcm9sbFRvcCA9ICRjb250WzBdLnNjcm9sbEhlaWdodDtcblxuICAgICQoJy5jaGF0Ym94JykuY2hpbGRyZW4oJ2Zvcm0nKS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgIC8vJGNvbnQuYXBwZW5kKCc8cD4nICsgJCh0aGlzKS52YWwoKSArICc8L3A+Jyk7XG4gICAgICAgICAgICAkY29udFswXS5zY3JvbGxUb3AgPSAkY29udFswXS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAkKHRoaXMpLnZhbCgnJyk7XG4gICAgICAgIH1cbiAgICB9KS5mb2N1cygpO1xuXG4gICAgLy9yZXNpemVzIHRoZSBlbGVtZW50cyB0aGF0IG5lZWQgMTAwJSBoZWlnaHRcbiAgICBmdW5jdGlvbiByZXNpemVNYWluKCl7XG4gICAgICAgICQoJy5tYWluV3JhcHBlcicpLmhlaWdodCgkKHdpbmRvdykuaGVpZ2h0KCkpXG4gICAgICAgICQoJ21haW4nKS5oZWlnaHQoJCgnLm1haW5XcmFwcGVyJykuaGVpZ2h0KCkpO1xuICAgICAgICAkKCcuY29udGVudFdyYXBwZXInKS5oZWlnaHQoJCgnbWFpbicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLmxlZnRNZW51JykuaGVpZ2h0KCQoJy5tYWluV3JhcHBlcicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLnJpZ2h0U2lkZWJhcicpLmhlaWdodCgkKCcubWFpbldyYXBwZXInKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5jaGF0Ym94JykuaGVpZ2h0KCQoJy5yaWdodFNpZGViYXInKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJyNtZXNzYWdlQ29udGFpbmVyJykuaGVpZ2h0KCQoJy5jaGF0Ym94JykuaGVpZ2h0KCktJCgnLmNoYXRib3gnKS5jaGlsZHJlbignZm9ybScpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLlNDUmVzdWx0cycpLmhlaWdodCgkKCcuY29udGVudFdyYXBwZXInKS5oZWlnaHQoKS04NSk7XG4gICAgICAgICQoJy5tYW5hZ2VtZW50JykuaGVpZ2h0KCQoJy5jb250ZW50V3JhcHBlcicpLmhlaWdodCgpLTg1KTtcbiAgICAgICAgJCgnLnVzZXJncnAnKS5oZWlnaHQoJCgnLm1hbmFnZW1lbnQnKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5zb25nUXVldWUnKS5oZWlnaHQoJCgnLmxlZnRNZW51JykuaGVpZ2h0KCktJCgnLmxlZnRCdG5zJykuaGVpZ2h0KCktMTApO1xuICAgIH1cbn0pO1xuLy9jb25zb2xlLmxvZygncnVubmluZyBTQycpO1xuLy9TQy5pbml0aWFsaXplKHtcbi8vICAgIGNsaWVudF9pZDogJzJmNWRmNDYyOGY4OWJjMDZkYzZmODg3ODlkNWViMGFlJyxcbi8vICAgIHJlZGlyZWN0X3VyaTogJ2h0dHA6Ly90cmVlc3JhZGlvLm5ldC9zb3VuZGNsb3VkL2NhbGxiYWNrLmh0bWwnXG4vL30pO1xuLy9jb25zb2xlLmxvZygnZ2V0dGluZyB0cmFja3MnKTtcbi8vU0MuZ2V0KCcvdHJhY2tzL2tpZC1jdWRpLW1hcmlqdWFuYScpLnRoZW4oZnVuY3Rpb24odHJhY2spe1xuLy8gICAgY29uc29sZS5sb2codHJhY2spO1xuLy8gICAgU0Muc3RyZWFtKCcvdHJhY2tzLycrdHJhY2suaWQpLnRoZW4oZnVuY3Rpb24gKHBsYXllcil7XG4vLyAgICAgICAgcGxheWVyLnBsYXkoKTtcbi8vICAgIH0pO1xuLy99KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
