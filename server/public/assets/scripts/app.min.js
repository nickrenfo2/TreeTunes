var app=angular.module("myApp",["ngAnimate","ngCookies"]);app.controller("ChatboxController",function(){console.log("chatboxcontroller")}),app.controller("IndexController",["$scope","$http","$cookies",function(t,e,n){function o(){t.leftMenuBtns=[],e.get("/menuBtns").then(function(e){for(var n=0;n<e.data.length;n++){t.leftMenuBtns.push(e.data[n]);var o=t.leftMenuBtns[n],s=o.action;o.action=new Function(s)}},function(e){401==e.status&&(t.leftMenuBtns=[{icon:"sign-in",title:"Log In",action:function(){t.loggingIn=!0}}])})}function s(e,n){t.alert.message=e,t.alert.status=n,setTimeout(function(){t.alert.status="",t.alert.message="",t.$apply()},3e3)}function a(){var e=t.acct.password;return t.acct.upper=/[A-Z]+/.test(e),t.acct.lower=/[a-z]+/.test(e),t.acct.num=/[0-9]+/.test(e),t.acct.special=/[!@#$%^(){}[\]~\-_:]+/.test(e),t.acct.length=e.length>=8,t.acct.upper&&t.acct.lower&&t.acct.num&&t.acct.special&&t.acct.length}t.itworks="Hello World!",t.leftMenuBtns=[],t.newSong="kid-cudi-dat-new-new-dirty",t.curSong={id:"No Song Playing"},t.history=[],t.loggingIn=!1,t.alert={status:"",message:""},t.acct={role:"listener",username:"",password:""};var r=t.acct.password;t.acct.upper=/[A-Z]+/.test(r),t.acct.lower=/[a-z]+/.test(r),t.acct.num=/[0-9]+/.test(r),t.acct.special=/[!@#$%^(){}[\]~\-_]+/.test(r),t.historyOpen=!1,t.songProgressStyle={},t.songProgress=0;var c;t.Math=Math,t.SCResults=[],t.messageHistory=[];var i,l,g="http://localhost:5000",u="";SC.initialize({client_id:"2f5df4628f89bc06dc6f88789d5eb0ae",redirect_uri:"http://treesradio.net/soundcloud/callback.html"}),t.searchSound=function(e){console.log("Searching for song:",e),SC.get("/tracks/",{q:e}).then(function(e){console.log(e),t.SCResults=e,t.$apply()})},t.toggleHistory=function(){t.historyOpen=!t.historyOpen},t.login=function(){console.log("logging in"),e.post("/login",t.acct).then(function(e){console.log(e.data),t.loggingIn=!1,e.data.success&&(s("Thank you for logging in","success"),o(),i=io().connect(g,{query:"session_id="+n.get("user")}))})},t.registerAcct=function(){a()?(t.loggingIn=!1,e.post("/register",t.acct).then(function(t){console.log(t.data),s("Thank you for registering","success"),setTimeout(function(){},3e3),o()})):s("Password must contain: Uppercase letter,Lowercase letter,number,special character","danger")},t.playSound=function(e){console.log("playsound:",e.id),SC.stream("/tracks/"+e.id).then(function(n){t.songProgressStyle={transition:"all linear 1s",width:"10px"},t.curSong=e,console.log(t.curSong),t.history.push(e),clearInterval(c),l=n,l.play(),setTimeout(function(){t.songProgressStyle={transition:"all linear "+e.duration+"ms",width:"100%"}},1e3),c=setInterval(function(){t.songProgress++,t.$apply()},1e3)})},t.formatTime=function(t){return Math.floor(Math.floor(t/1e3)/60)+":"+("0"+t%60).substring(0,2)},t.$watch("acct.password",function(){a()}),o(),n.get("user")&&(i=io().connect(g,{query:"session_id="+n.get("user")}),i.on("chat",function(e){var n=t.messageHistory;if(u==e.user){var o=n.length;n[o-1].messages.push(e.msg)}else u=e.user,n.push({user:e.user,messages:[e.msg]});console.log(n)})),t.sendChat=function(){return i.emit("chat",t.chatMsg),t.chatMsg="",!1}}]),$(function(){function t(){$(".mainWrapper").height($(window).height()),$(".leftMenu").height($(".mainWrapper").height()),$(".rightSidebar").height($(".mainWrapper").height()),$(".chatbox").height($(".rightSidebar").height())}t(),$(window).resize(function(){t()})}),app.controller("PlayerController",function(){console.log("playercontroller")});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyIsImNvbnRyb2xsZXJzL0NoYXRib3hDb250cm9sbGVyLnRzIiwiY29udHJvbGxlcnMvSW5kZXhDb250cm9sbGVyLnRzIiwianF1aWJibGVzLnRzIiwiY29udHJvbGxlcnMvUGxheWVyQ29udHJvbGxlci50cyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsImNvbnNvbGUiLCJsb2ciLCIkc2NvcGUiLCIkaHR0cCIsIiRjb29raWVzIiwiZ2V0TWVudUJ0bnMiLCJpIiwicmVzcCIsImRhdGEiLCJsZW5ndGgiLCJsZWZ0TWVudUJ0bnMiLCJwdXNoIiwidGhpc0J0biIsImFjdGlvbiIsIkZ1bmN0aW9uIiwic3RhdHVzIiwiaWNvbiIsInRpdGxlIiwibG9nZ2luZ0luIiwic2V0QWxlcnQiLCJtc2ciLCJhbGVydCIsIm1lc3NhZ2UiLCIkYXBwbHkiLCJjaGVja1Bhc3MiLCJpdHdvcmtzIiwibmV3U29uZyIsImN1clNvbmciLCJpZCIsImhpc3RvcnkiLCJhY2N0Iiwicm9sZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJwYXNzIiwidXBwZXIiLCJ0ZXN0IiwibG93ZXIiLCJudW0iLCJzcGVjaWFsIiwiaGlzdG9yeU9wZW4iLCJzb25nUHJvZ3Jlc3NTdHlsZSIsInNvbmdQcm9ncmVzcyIsInNvbmdQcm9ncmVzc0ludGVydmFsIiwiTWF0aCIsIlNDUmVzdWx0cyIsIm1lc3NhZ2VIaXN0b3J5Iiwic29ja2V0IiwiZ1BsYXllciIsImlvQ29ublN0cmluZyIsImxhc3RNc2dVc2VyIiwiU0MiLCJpbml0aWFsaXplIiwiY2xpZW50X2lkIiwicmVkaXJlY3RfdXJpIiwic2VhcmNoU291bmQiLCJxdWVyeSIsImdldCIsInEiLCJ0aGVuIiwidHJhY2tzIiwidG9nZ2xlSGlzdG9yeSIsImxvZ2luIiwicG9zdCIsInN1Y2Nlc3MiLCJpbyIsImNvbm5lY3QiLCJyZWdpc3RlckFjY3QiLCJzZXRUaW1lb3V0IiwicGxheVNvdW5kIiwidHJhY2siLCJzdHJlYW0iLCJwbGF5ZXIiLCJ0cmFuc2l0aW9uIiwid2lkdGgiLCJjbGVhckludGVydmFsIiwicGxheSIsImR1cmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJmb3JtYXRUaW1lIiwidGltZSIsImZsb29yIiwic3Vic3RyaW5nIiwiJHdhdGNoIiwib24iLCJoaXN0IiwidXNlciIsImhpc3RMZW4iLCJtZXNzYWdlcyIsInNlbmRDaGF0IiwiZW1pdCIsImNoYXRNc2ciLCIkIiwicmVzaXplTWFpbiIsIndpbmRvdyIsInJlc2l6ZSJdLCJtYXBwaW5ncyI6IkFBRUEsR0FBSUEsS0FBTUMsUUFBUUMsT0FBTyxTQUFTLFlBQVksYUNDOUNGLEtBQUlHLFdBQVcsb0JBQW9CLFdBQy9CQyxRQUFRQyxJQUFJLHVCQ0FoQkwsSUFBSUcsV0FBVyxtQkFBb0IsU0FBVSxRQUFRLFdBQVksU0FBVUcsRUFBc0JDLEVBQXVCQyxHQTBFcEgsUUFBQUMsS0FDSUEsRUFBT0EsZ0JBQ1BBLEVBQU1BLElBQUlBLGFBQWFBLEtBQUtBLFNBQVNBLEdBRWpDLElBQUssR0FBSUMsR0FBRSxFQUFFQSxFQUFRQyxFQUFLQyxLQUFLQyxPQUFPSCxJQUFJLENBQ3RDSixFQUFPUSxhQUFhQyxLQUFLSixFQUFLQyxLQUFLRixHQUNuQyxJQUFJTSxHQUFVVixFQUFPUSxhQUFhSixHQUM5Qk8sRUFBU0QsRUFBUUMsTUFDckJELEdBQVFDLE9BQVMsR0FBSUMsVUFBU0QsS0FFcENSLFNBQVNBLEdBQ1ksS0FBZkUsRUFBS1EsU0FDTGIsRUFBT1EsZUFBaUJNLEtBQUssVUFBVUMsTUFBTSxTQUFTSixPQUFPLFdBQVdYLEVBQU9nQixXQUFZLFFBeUJ2RyxRQUFBQyxHQUFrQkMsRUFBV0wsR0FDekJJLEVBQU9BLE1BQU1BLFFBQVVBLEVBQ3ZCQSxFQUFPQSxNQUFNQSxPQUFTQSxFQUV0QkEsV0FBV0EsV0FFUGpCLEVBQU9tQixNQUFNTixPQUFTLEdBQ3RCYixFQUFPbUIsTUFBTUMsUUFBVSxHQUN2QnBCLEVBQU9xQixVQUNUSixLQUtOLFFBQUFL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YkYsUUNKUmpHLElBQUlHLFdBQVcsbUJBQW1CLFdBQzlCQyxRQUFRQyxJQUFJIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90c0RlZnMuZC50c1wiLz5cblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsWyduZ0FuaW1hdGUnLCduZ0Nvb2tpZXMnXSk7XG5cblxuXG5cblxuXG5cbi8vYXBwLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKXtcbi8vICAgICRzY29wZS5pdHdvcmtzID0gJ0hlbGxvIFdvcmxkJztcbi8vfV0pO1xuXG5cbi8vYXBwLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlcil7XG4vLyAgICAkcm91dGVQcm92aWRlclxuLy8gICAgLndoZW4oJy8nLHtcbi8vICAgICAgICAgICAgdGVtcGxhdGVVcmw6J3ZpZXdzL2hvbWUuaHRtbCcsXG4vLyAgICAgICAgICAgIGNvbnRyb2xsZXI6J0luZGV4Q29udHJvbGxlcidcbi8vICAgICAgICB9KTtcbi8vXG4vLyAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4vL30pO1xuIixudWxsLG51bGwsIi8qKlxuICogQ3JlYXRlZCBieSBOaWNrIG9uIDEwLzEzLzE1LlxuICovXG4vLy8gPHJlZmVyZW5jZSBwYXRoPScuL3RzRGVmcy5kLnRzJy8+XG4kKGZ1bmN0aW9uKCkge1xuICAgIHJlc2l6ZU1haW4oKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlc2l6ZU1haW4oKTtcbiAgICB9KVxuXG4gICAgLy9yZXNpemVzIHRoZSBNYWluIGVsZW1lbnQgYW5kIHRoZSBsZWZ0TWVudSB0byBiZSAxMDAlIGhlaWdodFxuICAgIGZ1bmN0aW9uIHJlc2l6ZU1haW4oKXtcbiAgICAgICAgJCgnLm1haW5XcmFwcGVyJykuaGVpZ2h0KCQod2luZG93KS5oZWlnaHQoKSlcbiAgICAgICAgJCgnLmxlZnRNZW51JykuaGVpZ2h0KCQoJy5tYWluV3JhcHBlcicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLnJpZ2h0U2lkZWJhcicpLmhlaWdodCgkKCcubWFpbldyYXBwZXInKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5jaGF0Ym94JykuaGVpZ2h0KCQoJy5yaWdodFNpZGViYXInKS5oZWlnaHQoKSk7XG4gICAgfVxufSk7XG4vL2NvbnNvbGUubG9nKCdydW5uaW5nIFNDJyk7XG4vL1NDLmluaXRpYWxpemUoe1xuLy8gICAgY2xpZW50X2lkOiAnMmY1ZGY0NjI4Zjg5YmMwNmRjNmY4ODc4OWQ1ZWIwYWUnLFxuLy8gICAgcmVkaXJlY3RfdXJpOiAnaHR0cDovL3RyZWVzcmFkaW8ubmV0L3NvdW5kY2xvdWQvY2FsbGJhY2suaHRtbCdcbi8vfSk7XG4vL2NvbnNvbGUubG9nKCdnZXR0aW5nIHRyYWNrcycpO1xuLy9TQy5nZXQoJy90cmFja3Mva2lkLWN1ZGktbWFyaWp1YW5hJykudGhlbihmdW5jdGlvbih0cmFjayl7XG4vLyAgICBjb25zb2xlLmxvZyh0cmFjayk7XG4vLyAgICBTQy5zdHJlYW0oJy90cmFja3MvJyt0cmFjay5pZCkudGhlbihmdW5jdGlvbiAocGxheWVyKXtcbi8vICAgICAgICBwbGF5ZXIucGxheSgpO1xuLy8gICAgfSk7XG4vL30pOyIsbnVsbF0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
