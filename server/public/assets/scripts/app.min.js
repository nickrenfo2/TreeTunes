function Chatbox(){function e(e){for(var o=e+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var n=t[s];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return null}console.log("chatboxcontroller"),this.history=[],this.placeholder="Please log in to chat",this.botName="BBot",this.ioConnString="http://localhost:5000",this.lastMsgUsr="",this.chatMsg="",this.getUser=function(){return e("user")},this.getUser()&&(console.log("logged in"),this.connect())}var app=angular.module("myApp",["ngAnimate","ngCookies","luegg.directives"]);app.controller("ChatboxController",Chatbox),Chatbox.prototype.test=function(){console.log("something"),console.log(this.history)},Chatbox.prototype.connect=function(){function e(e,t){if(this.lastMsgUsr==e){var s=o.length;o[s-1].messages.push(t)}else this.lastMsgUsr=e,o.push({user:e,messages:[t]});console.log(o)}var o=this.history,t=this.botName;this.socket=io().connect(this.ioConnString,{query:"session_id="+this.getUser()}),this.socket.on("chat",function(o){console.log("chattin"),e(o.user,o.msg)}),this.socket.on("conn",function(o){console.log("connected user:",o);var s=o+" has joined.";e(t,s)}),this.socket.on("dc",function(o){var s=o+" has left.";e(t,s)}),this.socket.on("advance",function(){console.log("advance recieved")})},Chatbox.prototype.sendChat=function(){return this.socket.connected||this.connect(),this.socket.emit("chat",this.chatMsg),this.chatMsg="",!1},app.controller("IndexController",["$scope","$http","$cookies",function($scope,$http,$cookies){function getMenuBtns(){$scope.menuBtns=[],$http.get("/menuBtns").then(function(resp){for(var i=0;i<resp.data.length;i++){$scope.menuBtns.push(resp.data[i]);var thisBtn=$scope.menuBtns[i],action=thisBtn.action;thisBtn.action=function(){eval(action)}}},function(e){401==e.status&&($scope.loggedIn=!1,$scope.menuBtns=[{icon:"sign-in",title:"Log In",action:function(){$scope.loggingIn=!0},area:"left"}])})}function setAlert(e,o){$scope.alert.message=e,$scope.alert.status=o,setTimeout(function(){$scope.alert.status="",$scope.alert.message="",$scope.$apply()},3e3)}function checkPass(){var e=$scope.acct.password;return $scope.acct.upper=/[A-Z]+/.test(e),$scope.acct.lower=/[a-z]+/.test(e),$scope.acct.num=/[0-9]+/.test(e),$scope.acct.special=/[!@#$%^(){}[\]~\-_:]+/.test(e),$scope.acct.length=e.length>=8,$scope.acct.upper&&$scope.acct.lower&&$scope.acct.num&&$scope.acct.special&&$scope.acct.length}function advanceSong(){console.log("advancing"),$http.get("/queue/next").then(function(e){console.log(e.data),SC.get("/tracks/"+e.data.id).then(function(o){$scope.playSound(o,e.data.curTime)})})}function checkSong(){console.log("checking song"),$http.get("/queue/next").then(function(e){e.data.id!=$scope.curSong.id&&advanceSong()})}$scope.itworks="Hello!",$scope.menuBtns=[],$scope.newSong="kid-cudi",$scope.curSong={id:"No Song Playing"},$scope.history=[],$scope.loggingIn=!1,$scope.alert={status:"",message:""},$scope.acct={role:"listener",username:"",password:""};var pass=$scope.acct.password;$scope.acct.upper=/[A-Z]+/.test(pass),$scope.acct.lower=/[a-z]+/.test(pass),$scope.acct.num=/[0-9]+/.test(pass),$scope.acct.special=/[!@#$%^(){}[\]~\-_]+/.test(pass),$scope.historyOpen=!1,$scope.searchOpen=!1,$scope.songProgressStyle={},$scope.songProgress=0;var songProgressInterval;$scope.Math=Math,$scope.SCResults=[],$scope.loggedIn=!!$cookies.get("user"),$scope.loggedIn?$scope.chatplaceholder="":$scope.chatplaceholder="Please log in to chat",$scope.songQueue=[];var socket,ioConnString="http://localhost:5000",lastMsgUser="",gPlayer;SC.initialize({client_id:"2f5df4628f89bc06dc6f88789d5eb0ae",redirect_uri:"http://treesradio.net/soundcloud/callback.html"}),$scope.searchSound=function(e){console.log("Searching for song:",e),SC.get("/tracks/",{q:e,streamable:!0}).then(function(e){console.log(e),$scope.SCResults=e,$scope.$apply()})},$scope.toggleHistory=function(){$scope.historyOpen=!$scope.historyOpen},$scope.login=function(){console.log("logging in"),$http.post("/login",$scope.acct).then(function(e){e.data.success&&($scope.loggingIn=!1,setAlert("Thank you for logging in","success"),getMenuBtns(),$scope.loggedIn=!0,$scope.chatplaceholder="")})},$scope.logout=function(){$http.get("/logout").then(function(){$cookies.remove("user")}),getMenuBtns()},$scope.registerAcct=function(){checkPass()?($scope.loggingIn=!1,$http.post("/register",$scope.acct).then(function(e){console.log(e.data),setAlert("Thank you for registering","success"),setTimeout(function(){},3e3),getMenuBtns()})):setAlert("Password must contain: Uppercase letter,Lowercase letter,number,special character","danger")},$scope.playSound=function(e,o){o||(o=0),console.log("playsound:",e.id),console.log("current time:",o),$scope.songProgressStyle={transition:"all linear 1s",width:"10px"},SC.stream("/tracks/"+e.id).then(function(t){$scope.curSong=e,console.log($scope.curSong),$scope.history.push(e),clearInterval(songProgressInterval),gPlayer=t,console.log(gPlayer),gPlayer.seek(o),gPlayer.play(),setTimeout(function(){$scope.songProgressStyle={transition:"all linear "+e.duration+"ms",width:"100%"},$scope.$apply()},1e3),songProgressInterval=setInterval(function(){$scope.$apply()},1e3)})},$scope.formatTime=function(e){return Math.floor(Math.floor(e/1e3)/60)+":"+("0"+e%60).substring(0,2)},$scope.queueAdd=function(e){console.log("adding track:",e),$http.post("/queue/add",e)},$scope.getQueue=function(){$http.get("/queue").then(function(e){console.log("upcoming queue:"),console.log(e.data),$scope.songQueue=e.data})},$scope.kickoff=function(){$http.get("/queue/kickoff")},$scope.advanceSong=function(){advanceSong()},$scope.start=function(){setInterval(checkSong,5e3)},$scope.$watch("acct.password",function(){checkPass()}),getMenuBtns(),$cookies.get("user")}]),$(function(){function e(){$(".mainWrapper").height($(window).height()),$(".leftMenu").height($(".mainWrapper").height()),$(".rightSidebar").height($(".mainWrapper").height()),$(".chatbox").height($(".rightSidebar").height()),$("#messageContainer").height($(".chatbox").height()-$(".chatbox").children("form").height())}e(),$(window).resize(function(){e()});var o=$("#messageContainer");o[0].scrollTop=o[0].scrollHeight,$(".chatbox").children("form").keyup(function(e){13==e.keyCode&&(o[0].scrollTop=o[0].scrollHeight,$(this).val(""))}).focus()}),app.controller("PlayerController",function(){console.log("playercontroller")});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL0NoYXRib3hDb250cm9sbGVyLnRzIiwiYXBwLnRzIiwiY29udHJvbGxlcnMvSW5kZXhDb250cm9sbGVyLnRzIiwianF1aWJibGVzLnRzIiwiY29udHJvbGxlcnMvUGxheWVyQ29udHJvbGxlci50cyJdLCJuYW1lcyI6WyJDaGF0Ym94IiwiQ2hhdGJveC5yZWFkQ29va2llIiwicmVhZENvb2tpZSIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwicHJvdG90eXBlIiwidGVzdCIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwiaGlzdG9yeSIsImNvbm5lY3QiLCJwdXNoTWVzc2FnZSIsInVzciIsIm1zZyIsImhpc3QiLCJib3ROYW1lIiwic29ja2V0IiwiaW8iLCJpb0Nvbm5TdHJpbmciLCJxdWVyeSIsImdldFVzZXIiLCJvbiIsInVzZXIiLCJtZXNzYWdlIiwic2VuZENoYXQiLCJjb25uZWN0ZWQiLCJlbWl0IiwiY2hhdE1zZyIsIiRzY29wZSIsIiRodHRwIiwiJGNvb2tpZXMiLCJnZXRNZW51QnRucyIsImkiLCJyZXNwIiwiZGF0YSIsImxlbmd0aCIsIm1lbnVCdG5zIiwicHVzaCIsInRoaXNCdG4iLCJhY3Rpb24iLCJldmFsIiwic3RhdHVzIiwibG9nZ2VkSW4iLCJpY29uIiwidGl0bGUiLCJsb2dnaW5nSW4iLCJhcmVhIiwic2V0QWxlcnQiLCJhbGVydCIsIiRhcHBseSIsImNoZWNrUGFzcyIsImFkdmFuY2VTb25nIiwiU0MiLCJnZXQiLCJpZCIsInRoZW4iLCJ0cmFjayIsInBsYXlTb3VuZCIsImN1clRpbWUiLCJjaGVja1NvbmciLCJjdXJTb25nIiwiaXR3b3JrcyIsIm5ld1NvbmciLCJhY2N0Iiwicm9sZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJwYXNzIiwidXBwZXIiLCJsb3dlciIsIm51bSIsInNwZWNpYWwiLCJoaXN0b3J5T3BlbiIsInNlYXJjaE9wZW4iLCJzb25nUHJvZ3Jlc3NTdHlsZSIsInNvbmdQcm9ncmVzcyIsInNvbmdQcm9ncmVzc0ludGVydmFsIiwiTWF0aCIsIlNDUmVzdWx0cyIsImNoYXRwbGFjZWhvbGRlciIsInNvbmdRdWV1ZSIsImxhc3RNc2dVc2VyIiwiZ1BsYXllciIsImluaXRpYWxpemUiLCJjbGllbnRfaWQiLCJyZWRpcmVjdF91cmkiLCJzZWFyY2hTb3VuZCIsInEiLCJzdHJlYW1hYmxlIiwidHJhY2tzIiwidG9nZ2xlSGlzdG9yeSIsImxvZ2luIiwicG9zdCIsInN1Y2Nlc3MiLCJsb2dvdXQiLCJyZW1vdmUiLCJyZWdpc3RlckFjY3QiLCJzZXRUaW1lb3V0IiwidGltZSIsInRyYW5zaXRpb24iLCJ3aWR0aCIsInN0cmVhbSIsInBsYXllciIsImNsZWFySW50ZXJ2YWwiLCJzZWVrIiwicGxheSIsImR1cmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJmb3JtYXRUaW1lIiwiZmxvb3IiLCJzdWJzdHJpbmciLCJxdWV1ZUFkZCIsImdldFF1ZXVlIiwia2lja29mZiIsInN0YXJ0IiwiJHdhdGNoIiwiJCIsInJlc2l6ZU1haW4iLCJ3aW5kb3ciLCJyZXNpemUiLCIkY29udCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNoaWxkcmVuIiwia2V5dXAiLCJlIiwia2V5Q29kZSIsInZhbCIsImZvY3VzIl0sIm1hcHBpbmdzIjoiQUFNQSxRQUFBQSxXQWFJQSxRQUFBQSxHQUFvQkEsR0FHaEJDLElBQUlBLEdBRkFBLEdBQVNBLEVBQU9BLElBQ2hCQSxFQUFLQSxTQUFTQSxPQUFPQSxNQUFNQSxLQUN2QkEsRUFBRUEsRUFBRUEsRUFBSUEsRUFBR0EsT0FBT0EsSUFBS0EsQ0FFM0JBLElBREFBLEdBQUlBLEdBQUlBLEVBQUdBLEdBQ1NBLEtBQWJBLEVBQUVBLE9BQU9BLElBQVNBLEVBQUlBLEVBQUVBLFVBQVVBLEVBQUVBLEVBQUVBLE9BQzdDQSxJQUF5QkEsR0FBckJBLEVBQUVBLFFBQVFBLEdBQWNBLE1BQU9BLEdBQUVBLFVBQVVBLEVBQU9BLE9BQU9BLEVBQUVBLFFBRW5FQSxNQUFPQSxN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QUFLQyxRQUloQ04sT0FBT3FGLFFBQVUsV0FDYnBGLE1BQU13QixJQUFJLG1CQWFkekIsT0FBT3VCLFlBQWMsV0FDakJBLGVBWUp2QixPQUFPc0YsTUFBUSxXQUFXUCxZQUFZaEQsVUFBVSxNQU9oRC9CLE9BQU91RixPQUFPLGdCQUFnQixXQUMxQmpFLGNBRUpuQixjQUlHRCxTQUFTdUIsSUFBSSxXQ2hQcEIrRCxFQUFFLFdBaUJFLFFBQUFDLEtBQ0lBLEVBQUVBLGdCQUFnQkEsT0FBT0EsRUFBRUEsUUFBUUEsVUFDbkNBLEVBQUVBLGFBQWFBLE9BQU9BLEVBQUVBLGdCQUFnQkEsVUFDeENBLEVBQUVBLGlCQUFpQkEsT0FBT0EsRUFBRUEsZ0JBQWdCQSxVQUM1Q0EsRUFBRUEsWUFBWUEsT0FBT0EsRUFBRUEsaUJBQWlCQSxVQUN4Q0EsRUFBRUEscUJBQXFCQSxPQUFPQSxFQUFFQSxZQUFZQSxTQUFTQSxFQUFFQSxZQUFZQSxTQUFTQSxRQUFRQSxVQXJCeEZBLElBQ0FELEVBQUVFLFFBQVFDLE9BQU8sV0FDYkYsS0FFSixJQUFJRyxHQUFRSixFQUFFLG9CQUNkSSxHQUFNLEdBQUdDLFVBQVlELEVBQU0sR0FBR0UsYUFFOUJOLEVBQUUsWUFBWU8sU0FBUyxRQUFRQyxNQUFNLFNBQVNDLEdBQ3pCLElBQWJBLEVBQUVDLFVBRUZOLEVBQU0sR0FBR0MsVUFBWUQsRUFBTSxHQUFHRSxhQUM5Qk4sRUFBRTVHLE1BQU11SCxJQUFJLE9BRWpCQyxVQ2ZQaEksSUFBSUcsV0FBVyxtQkFBbUIsV0FDOUJHLFFBQVFDLElBQUkiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHNEZWZzLmQudHNcIi8+XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLFsnbmdBbmltYXRlJywnbmdDb29raWVzJywnbHVlZ2cuZGlyZWN0aXZlcyddKTtcblxuXG5cblxuXG5cblxuLy9hcHAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpe1xuLy8gICAgJHNjb3BlLml0d29ya3MgPSAnSGVsbG8gV29ybGQnO1xuLy99XSk7XG5cblxuLy9hcHAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCRsb2NhdGlvblByb3ZpZGVyKXtcbi8vICAgICRyb3V0ZVByb3ZpZGVyXG4vLyAgICAud2hlbignLycse1xuLy8gICAgICAgICAgICB0ZW1wbGF0ZVVybDondmlld3MvaG9tZS5odG1sJyxcbi8vICAgICAgICAgICAgY29udHJvbGxlcjonSW5kZXhDb250cm9sbGVyJ1xuLy8gICAgICAgIH0pO1xuLy9cbi8vICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbi8vfSk7XG4iLG51bGwsIi8qKlxuICogQ3JlYXRlZCBieSBOaWNrIG9uIDEwLzEzLzE1LlxuICovXG4vLy8gPHJlZmVyZW5jZSBwYXRoPScuL3RzRGVmcy5kLnRzJy8+XG4kKGZ1bmN0aW9uKCkge1xuICAgIHJlc2l6ZU1haW4oKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlc2l6ZU1haW4oKTtcbiAgICB9KVxuICAgIHZhciAkY29udCA9ICQoJyNtZXNzYWdlQ29udGFpbmVyJyk7XG4gICAgJGNvbnRbMF0uc2Nyb2xsVG9wID0gJGNvbnRbMF0uc2Nyb2xsSGVpZ2h0O1xuXG4gICAgJCgnLmNoYXRib3gnKS5jaGlsZHJlbignZm9ybScpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgLy8kY29udC5hcHBlbmQoJzxwPicgKyAkKHRoaXMpLnZhbCgpICsgJzwvcD4nKTtcbiAgICAgICAgICAgICRjb250WzBdLnNjcm9sbFRvcCA9ICRjb250WzBdLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICQodGhpcykudmFsKCcnKTtcbiAgICAgICAgfVxuICAgIH0pLmZvY3VzKCk7XG5cbiAgICAvL3Jlc2l6ZXMgdGhlIE1haW4gZWxlbWVudCBhbmQgdGhlIGxlZnRNZW51IHRvIGJlIDEwMCUgaGVpZ2h0XG4gICAgZnVuY3Rpb24gcmVzaXplTWFpbigpe1xuICAgICAgICAkKCcubWFpbldyYXBwZXInKS5oZWlnaHQoJCh3aW5kb3cpLmhlaWdodCgpKVxuICAgICAgICAkKCcubGVmdE1lbnUnKS5oZWlnaHQoJCgnLm1haW5XcmFwcGVyJykuaGVpZ2h0KCkpO1xuICAgICAgICAkKCcucmlnaHRTaWRlYmFyJykuaGVpZ2h0KCQoJy5tYWluV3JhcHBlcicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLmNoYXRib3gnKS5oZWlnaHQoJCgnLnJpZ2h0U2lkZWJhcicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnI21lc3NhZ2VDb250YWluZXInKS5oZWlnaHQoJCgnLmNoYXRib3gnKS5oZWlnaHQoKS0kKCcuY2hhdGJveCcpLmNoaWxkcmVuKCdmb3JtJykuaGVpZ2h0KCkpO1xuICAgIH1cbn0pO1xuLy9jb25zb2xlLmxvZygncnVubmluZyBTQycpO1xuLy9TQy5pbml0aWFsaXplKHtcbi8vICAgIGNsaWVudF9pZDogJzJmNWRmNDYyOGY4OWJjMDZkYzZmODg3ODlkNWViMGFlJyxcbi8vICAgIHJlZGlyZWN0X3VyaTogJ2h0dHA6Ly90cmVlc3JhZGlvLm5ldC9zb3VuZGNsb3VkL2NhbGxiYWNrLmh0bWwnXG4vL30pO1xuLy9jb25zb2xlLmxvZygnZ2V0dGluZyB0cmFja3MnKTtcbi8vU0MuZ2V0KCcvdHJhY2tzL2tpZC1jdWRpLW1hcmlqdWFuYScpLnRoZW4oZnVuY3Rpb24odHJhY2spe1xuLy8gICAgY29uc29sZS5sb2codHJhY2spO1xuLy8gICAgU0Muc3RyZWFtKCcvdHJhY2tzLycrdHJhY2suaWQpLnRoZW4oZnVuY3Rpb24gKHBsYXllcil7XG4vLyAgICAgICAgcGxheWVyLnBsYXkoKTtcbi8vICAgIH0pO1xuLy99KTsiLG51bGxdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
