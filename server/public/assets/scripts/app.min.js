function Chatbox(e){function t(e){for(var t=e+"=",o=document.cookie.split(";"),s=0;s<o.length;s++){for(var n=o[s];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}var o=this;this.history=[],this.placeholder="Please log in to chat",this.botName="BBot",this.ioConnString="http://localhost:5000",this.lastMsgUsr="",this.chatMsg="",this.getUser=function(){return t("user")},e.$watch("loggedIn",function(e){e&&o.connect()}),e.$watch("voted",function(e){e&&o.socket.emit("vote")}),this.connect=function(){function t(t,n){if(o.lastMsgUsr==t){var c=s.length;s[c-1].messages.push(n)}else o.lastMsgUsr=t,s.push({user:t,messages:[n]});e.$apply()}var o=this,s=this.history,n=this.botName;this.socket=io().connect(this.ioConnString,{query:"session_id="+this.getUser(),timeout:36e5}),this.socket.on("chat",function(e){t(e.user,e.msg)}),this.socket.on("conn",function(e){console.log("connected user:",e);var o=e+" has joined.";t(n,o)}),this.socket.on("dc",function(e){var o=e+" has left.";t(n,o)}),this.socket.on("advance",function(){console.log("advance recieved")}),this.socket.on("vote",function(){e.getVotes()})}}function ManagementController(e,t){var o=this;o.users=[],o.roles=["admin","host","dj","listener"],o.http=t,this.getUsers=function(){this.http.get("/users/all").then(function(e){o.users=e.data})},this.changeRole=function(e){console.log(e),t.post("/users/role",e).then(function(){o.getUsers()})},this.getUsers()}var app=angular.module("myApp",["ngAnimate","ngCookies","luegg.directives","rzModule"]);app.controller("ChatboxController",["$scope",Chatbox]),Chatbox.prototype.sendChat=function(){return this.socket.connected||this.connect(),this.socket.emit("chat",this.chatMsg),this.chatMsg="",!1},app.controller("IndexController",["$scope","$http","$cookies",function($scope,$http,$cookies){function getMenuBtns(){$scope.menuBtns=[],$http.get("/menuBtns").then(function(e){for(var t=0;t<e.data.length;t++)$scope.menuBtns.push(new MenuBtn(e.data[t]))},function(e){401==e.status&&($scope.loggedIn=!1,$scope.menuBtns=[{icon:"sign-in",title:"Log In",action:function(){$scope.loggingIn=!0},area:"left"}])})}function setAlert(e,t){$scope.alert.message=e,$scope.alert.status=t,setTimeout(function(){$scope.alert.status="",$scope.alert.message="",$scope.$apply()},3e3)}function checkPass(){var e=$scope.acct.password;return $scope.acct.upper=/[A-Z]+/.test(e),$scope.acct.lower=/[a-z]+/.test(e),$scope.acct.num=/[0-9]+/.test(e),$scope.acct.special=/[!@#$%^(){}[\]~\-_:]+/.test(e),$scope.acct.length=e.length>=8,$scope.acct.upper&&$scope.acct.lower&&$scope.acct.num&&$scope.acct.special&&$scope.acct.length}function advanceSong(){$scope.voted=!1,$scope.upvote=!1,$scope.downvote=!1,$scope.points=0,$http.get("/queue/next").then(function(e){SC.get("/tracks/"+e.data.id).then(function(t){"No song queued"==e.data&&(t=defTrack),$scope.playSound(t,e.data.curTime)})}),$scope.getQueue()}function checkSong(){$http.get("/queue/next").then(function(e){e.data.id!=$scope.curSong.id&&$scope.curSong.id!=defTrack.id&&advanceSong()})}function getVotes(){return $scope.getVotes()}function MenuBtn(btn){this.icon=btn.icon,this.title=btn.title;var action=btn.action;this.action=function(){eval(action)},this.area=btn.area}$scope.itworks="Hello!",$scope.menuBtns=[],$scope.newSong="kid-cudi",$scope.curSong={id:"No Song Playing"},$scope.history=[],$scope.loggingIn=!1,$scope.alert={status:"",message:""},$scope.acct={role:"listener",username:"",password:""};var pass=$scope.acct.password;$scope.acct.upper=/[A-Z]+/.test(pass),$scope.acct.lower=/[a-z]+/.test(pass),$scope.acct.num=/[0-9]+/.test(pass),$scope.acct.special=/[!@#$%^(){}[\]~\-_]+/.test(pass),$scope.historyOpen=!1,$scope.searchOpen=!1,$scope.mgmtOpen=!1,$scope.showDev=!1,$scope.songProgressStyle={},$scope.songProgress=0;var songProgressInterval;$scope.Math=Math,$scope.SCTrackResults=[],$scope.SCPlaylistResults=[],$scope.loggedIn=!!$cookies.get("user"),$scope.loggedIn?$scope.chatplaceholder="":$scope.chatplaceholder="Please log in to chat",$scope.songQueue=[],$scope.volume=100,$scope.muted=!1,$scope.points=0,$scope.loading=!1,$scope.voted=!1,$scope.upvote=!1,$scope.downvote=!1;var socket,ioConnString="http://localhost:5000",lastMsgUser="",defTrack={id:146823529,title:"No song queued",duration:1},gPlayer;SC.initialize({client_id:"2f5df4628f89bc06dc6f88789d5eb0ae",redirect_uri:"http://treesradio.net/soundcloud/callback.html"}),$scope.searchSound=function(e){console.log("Searching for song:",e),SC.get("/tracks/",{q:e,streamable:!0}).then(function(e){console.log(e),$scope.SCPlaylistResults=[],$scope.SCTrackResults=e})},$scope.searchPlaylists=function(e){$scope.loading=!0,SC.get("/playlists/",{streamable:!0,q:e}).then(function(e){$scope.loading=!1,$scope.SCTrackResults=[],$scope.SCPlaylistResults=e,console.log(e)},function(e){console.log(e),$scope.loading=!1,setAlert("Playlists not available. Please try again in a few minutes","danger")})},$scope.toggleHistory=function(){$scope.historyOpen=!$scope.historyOpen},$scope.login=function(){console.log("logging in"),$http.post("/login",$scope.acct).then(function(e){e.data.success&&($scope.loggingIn=!1,setAlert("Thank you for logging in","success"),getMenuBtns(),$scope.loggedIn=!0,$scope.chatplaceholder="")})},$scope.logout=function(){$http.get("/logout").then(function(){$cookies.remove("user"),getMenuBtns()})},$scope.registerAcct=function(){checkPass()?($scope.loggingIn=!1,$http.post("/register",$scope.acct).then(function(e){console.log(e.data),setAlert("Thank you for registering","success"),setTimeout(function(){},3e3),getMenuBtns()})):setAlert("Password must contain: Uppercase letter,Lowercase letter,number,special character","danger")},$scope.playSound=function(e,t){t||(t=0),$scope.songProgressStyle={transition:"all linear 1s",width:"10px"},SC.stream("/tracks/"+e.id).then(function(o){$scope.curSong=e,$scope.history.push(e),clearInterval(songProgressInterval),gPlayer=o,gPlayer.seek(t),gPlayer.play(),setTimeout(function(){$scope.songProgressStyle={transition:"all linear "+e.duration+"ms",width:"100%"},$scope.$apply()},3e3),songProgressInterval=setInterval(function(){$scope.$apply()},1e3)})},$scope.formatTime=function(e){return Math.floor(Math.floor(e/1e3)/60)+":"+("0"+e%60).substring(0,2)},$scope.queueAdd=function(e){console.log("adding track:",e),$http.post("/queue/add",e).then(function(e){$scope.getQueue()})},$scope.addList=function(e){console.log(e);for(var t=0;t<e.tracks.length;t++)$scope.queueAdd(e.tracks[t])},$scope.getQueue=function(){$http.get("/queue").then(function(e){console.log("upcoming queue:"),console.log(e.data),$scope.songQueue=e.data})},$scope.kickoff=function(){$http.get("/queue/kickoff")},$scope.advanceSong=function(){advanceSong()},$scope.vote=function(e){$scope.voted=!1,e?($scope.upvote=!0,$scope.downvote=!1):($scope.downvote=!0,$scope.upvote=!1),$http.post("/queue/vote",{pts:e}).then(function(e){console.log(e.data),e.data.success?$scope.voted=!0:($scope.upvote=!1,$scope.downvote=!1)})},$scope.getVotes=function(){$http.get("/queue/votes").then(function(e){console.log(e.data),e.data.success&&($scope.points=e.data.points)})},$scope.skip=function(){$http.get("/queue/skip")},$scope.start=function(){},$scope.$watch("acct.password",function(){checkPass()}),$scope.changeRank=function(e){e.changeRank?e.changeRank=!1:e.changeRank=!0},$scope.setVol=function(){var e=0;$scope.muted||(e=$scope.volume),gPlayer.setVolume(e)},getMenuBtns(),setInterval(checkSong,1e3),advanceSong()}]),$(function(){function e(){$(".mainWrapper").height($(window).height()),$("main").height($(".mainWrapper").height()),$(".contentWrapper").height($("main").height()),$(".leftMenu").height($(".mainWrapper").height()),$(".rightSidebar").height($(".mainWrapper").height()),$(".chatbox").height($(".rightSidebar").height()),$("#messageContainer").height($(".chatbox").height()-$(".chatbox").children("form").height()),$(".SCResults").height($(".contentWrapper").height()-85),$(".management").height($(".contentWrapper").height()-85),$(".usergrp").height($(".management").height()),$(".songQueue").height($(".leftMenu").height()-$(".leftBtns").height()-$(".logo").height()-35)}e(),$(window).resize(function(){e()});var t=$("#messageContainer");t[0].scrollTop=t[0].scrollHeight,$(".chatbox").children("form").keyup(function(e){13==e.keyCode&&(t[0].scrollTop=t[0].scrollHeight,$(this).val(""))}).focus()}),app.controller("ManagementController",["$scope","$http",ManagementController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL0NoYXRib3hDb250cm9sbGVyLnRzIiwiY29udHJvbGxlcnMvTWFuYWdlbWVudENvbnRyb2xsZXIudHMiLCJhcHAudHMiLCJjb250cm9sbGVycy9JbmRleENvbnRyb2xsZXIudHMiLCJqcXVpYmJsZXMudHMiXSwibmFtZXMiOlsiQ2hhdGJveCIsIiRzY29wZSIsIkNoYXRib3gucmVhZENvb2tpZSIsInJlYWRDb29raWUiLCJuZXdWYWwiLCJjYiIsImNvbm5lY3QiLCJzb2NrZXQiLCJlbWl0IiwicHVzaE1lc3NhZ2UiLCJ1c3IiLCJtc2ciLCJ0aGlzIiwiaGlzdCIsImhpc3RvcnkiLCJib3ROYW1lIiwiaW8iLCJpb0Nvbm5TdHJpbmciLCJxdWVyeSIsImdldFVzZXIiLCJ0aW1lb3V0Iiwib24iLCJ1c2VyIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJnZXRWb3RlcyIsIk1hbmFnZW1lbnRDb250cm9sbGVyIiwiJGh0dHAiLCJodHRwIiwiZ2V0IiwidGhlbiIsInJlc3AiLCJtZyIsInVzZXJzIiwiZGF0YSIsInBvc3QiLCJnZXRVc2VycyIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwicHJvdG90eXBlIiwic2VuZENoYXQiLCJjb25uZWN0ZWQiLCJjaGF0TXNnIiwiJGNvb2tpZXMiLCJnZXRNZW51QnRucyIsImkiLCJsZW5ndGgiLCJtZW51QnRucyIsInB1c2giLCJNZW51QnRuIiwic3RhdHVzIiwibG9nZ2VkSW4iLCJpY29uIiwidGl0bGUiLCJhY3Rpb24iLCJsb2dnaW5nSW4iLCJhcmVhIiwic2V0QWxlcnQiLCJhbGVydCIsIiRhcHBseSIsImNoZWNrUGFzcyIsImFkdmFuY2VTb25nIiwiU0MiLCJpZCIsInRyYWNrIiwiZGVmVHJhY2siLCJwbGF5U291bmQiLCJjdXJUaW1lIiwiY2hlY2tTb25nIiwiY3VyU29uZyIsImJ0biIsImV2YWwiLCJpdHdvcmtzIiwibmV3U29uZyIsImFjY3QiLCJyb2xlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInBhc3MiLCJ1cHBlciIsInRlc3QiLCJsb3dlciIsIm51bSIsInNwZWNpYWwiLCJoaXN0b3J5T3BlbiIsInNlYXJjaE9wZW4iLCJtZ210T3BlbiIsInNob3dEZXYiLCJzb25nUHJvZ3Jlc3NTdHlsZSIsInNvbmdQcm9ncmVzcyIsInNvbmdQcm9ncmVzc0ludGVydmFsIiwiTWF0aCIsIlNDVHJhY2tSZXN1bHRzIiwiU0NQbGF5bGlzdFJlc3VsdHMiLCJjaGF0cGxhY2Vob2xkZXIiLCJzb25nUXVldWUiLCJ2b2x1bWUiLCJtdXRlZCIsInBvaW50cyIsImxvYWRpbmciLCJ2b3RlZCIsInVwdm90ZSIsImRvd252b3RlIiwibGFzdE1zZ1VzZXIiLCJkdXJhdGlvbiIsImdQbGF5ZXIiLCJpbml0aWFsaXplIiwiY2xpZW50X2lkIiwicmVkaXJlY3RfdXJpIiwic2VhcmNoU291bmQiLCJxIiwic3RyZWFtYWJsZSIsInRyYWNrcyIsInNlYXJjaFBsYXlsaXN0cyIsInFyeSIsImxpc3RzIiwidG9nZ2xlSGlzdG9yeSIsImxvZ2luIiwic3VjY2VzcyIsImxvZ291dCIsInJlbW92ZSIsInJlZ2lzdGVyQWNjdCIsInNldFRpbWVvdXQiLCJ0aW1lIiwidHJhbnNpdGlvbiIsIndpZHRoIiwic3RyZWFtIiwicGxheWVyIiwiY2xlYXJJbnRlcnZhbCIsInNlZWsiLCJwbGF5Iiwic2V0SW50ZXJ2YWwiLCJmb3JtYXRUaW1lIiwiZmxvb3IiLCJzdWJzdHJpbmciLCJxdWV1ZUFkZCIsImdldFF1ZXVlIiwiYWRkTGlzdCIsImxpc3QiLCJraWNrb2ZmIiwidm90ZSIsInB0cyIsInNraXAiLCJzdGFydCIsIiR3YXRjaCIsImNoYW5nZVJhbmsiLCJzZXRWb2wiLCJ2b2wiLCJzZXRWb2x1bWUiLCIkIiwicmVzaXplTWFpbiIsIndpbmRvdyIsInJlc2l6ZSIsIiRjb250Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiY2hpbGRyZW4iLCJrZXl1cCIsImUiLCJrZXlDb2RlIiwidmFsIiwiZm9jdXMi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QSxVQUN0Q0EsRUFBRUEsY0FBY0EsT0FBT0EsRUFBRUEsYUFBYUEsU0FBU0EsRUFBRUEsYUFBYUEsU0FBU0EsRUFBRUEsU0FBU0EsU0FBU0EsSUEzQi9GQSxJQUNBRCxFQUFFRSxRQUFRQyxPQUFPLFdBQ2JGLEtBRUosSUFBSUcsR0FBUUosRUFBRSxvQkFDZEksR0FBTSxHQUFHQyxVQUFZRCxFQUFNLEdBQUdFLGFBRTlCTixFQUFFLFlBQVlPLFNBQVMsUUFBUUMsTUFBTSxTQUFTQyxHQUN6QixJQUFiQSxFQUFFQyxVQUVGTixFQUFNLEdBQUdDLFVBQVlELEVBQU0sR0FBR0UsYUFDOUJOLEVBQUU1SSxNQUFNdUosSUFBSSxPQUVqQkMsVUhmUDlILElBQUlHLFdBQVcsd0JBQXdCLFNBQVMsUUFBUWQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCxudWxsLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90c0RlZnMuZC50c1wiLz5cblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsWyduZ0FuaW1hdGUnLCduZ0Nvb2tpZXMnLCdsdWVnZy5kaXJlY3RpdmVzJywncnpNb2R1bGUnXSk7XG5cblxuXG5cblxuXG5cbi8vYXBwLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKXtcbi8vICAgICRzY29wZS5pdHdvcmtzID0gJ0hlbGxvIFdvcmxkJztcbi8vfV0pO1xuXG5cbi8vYXBwLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlcil7XG4vLyAgICAkcm91dGVQcm92aWRlclxuLy8gICAgLndoZW4oJy8nLHtcbi8vICAgICAgICAgICAgdGVtcGxhdGVVcmw6J3ZpZXdzL2hvbWUuaHRtbCcsXG4vLyAgICAgICAgICAgIGNvbnRyb2xsZXI6J0luZGV4Q29udHJvbGxlcidcbi8vICAgICAgICB9KTtcbi8vXG4vLyAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4vL30pO1xuIixudWxsLCIvKipcbiAqIENyZWF0ZWQgYnkgTmljayBvbiAxMC8xMy8xNS5cbiAqL1xuLy8vIDxyZWZlcmVuY2UgcGF0aD0nLi90c0RlZnMuZC50cycvPlxuJChmdW5jdGlvbigpIHtcbiAgICByZXNpemVNYWluKCk7XG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xuICAgICAgICByZXNpemVNYWluKCk7XG4gICAgfSk7XG4gICAgdmFyICRjb250ID0gJCgnI21lc3NhZ2VDb250YWluZXInKTtcbiAgICAkY29udFswXS5zY3JvbGxUb3AgPSAkY29udFswXS5zY3JvbGxIZWlnaHQ7XG5cbiAgICAkKCcuY2hhdGJveCcpLmNoaWxkcmVuKCdmb3JtJykua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAvLyRjb250LmFwcGVuZCgnPHA+JyArICQodGhpcykudmFsKCkgKyAnPC9wPicpO1xuICAgICAgICAgICAgJGNvbnRbMF0uc2Nyb2xsVG9wID0gJGNvbnRbMF0uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgJCh0aGlzKS52YWwoJycpO1xuICAgICAgICB9XG4gICAgfSkuZm9jdXMoKTtcblxuICAgIC8vcmVzaXplcyB0aGUgZWxlbWVudHMgdGhhdCBuZWVkIDEwMCUgaGVpZ2h0XG4gICAgZnVuY3Rpb24gcmVzaXplTWFpbigpe1xuICAgICAgICAkKCcubWFpbldyYXBwZXInKS5oZWlnaHQoJCh3aW5kb3cpLmhlaWdodCgpKVxuICAgICAgICAkKCdtYWluJykuaGVpZ2h0KCQoJy5tYWluV3JhcHBlcicpLmhlaWdodCgpKTtcbiAgICAgICAgJCgnLmNvbnRlbnRXcmFwcGVyJykuaGVpZ2h0KCQoJ21haW4nKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5sZWZ0TWVudScpLmhlaWdodCgkKCcubWFpbldyYXBwZXInKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5yaWdodFNpZGViYXInKS5oZWlnaHQoJCgnLm1haW5XcmFwcGVyJykuaGVpZ2h0KCkpO1xuICAgICAgICAkKCcuY2hhdGJveCcpLmhlaWdodCgkKCcucmlnaHRTaWRlYmFyJykuaGVpZ2h0KCkpO1xuICAgICAgICAkKCcjbWVzc2FnZUNvbnRhaW5lcicpLmhlaWdodCgkKCcuY2hhdGJveCcpLmhlaWdodCgpLSQoJy5jaGF0Ym94JykuY2hpbGRyZW4oJ2Zvcm0nKS5oZWlnaHQoKSk7XG4gICAgICAgICQoJy5TQ1Jlc3VsdHMnKS5oZWlnaHQoJCgnLmNvbnRlbnRXcmFwcGVyJykuaGVpZ2h0KCktODUpO1xuICAgICAgICAkKCcubWFuYWdlbWVudCcpLmhlaWdodCgkKCcuY29udGVudFdyYXBwZXInKS5oZWlnaHQoKS04NSk7XG4gICAgICAgICQoJy51c2VyZ3JwJykuaGVpZ2h0KCQoJy5tYW5hZ2VtZW50JykuaGVpZ2h0KCkpO1xuICAgICAgICAkKCcuc29uZ1F1ZXVlJykuaGVpZ2h0KCQoJy5sZWZ0TWVudScpLmhlaWdodCgpLSQoJy5sZWZ0QnRucycpLmhlaWdodCgpLSQoJy5sb2dvJykuaGVpZ2h0KCktMzUpO1xuICAgIH1cbn0pO1xuLy9jb25zb2xlLmxvZygncnVubmluZyBTQycpO1xuLy9TQy5pbml0aWFsaXplKHtcbi8vICAgIGNsaWVudF9pZDogJzJmNWRmNDYyOGY4OWJjMDZkYzZmODg3ODlkNWViMGFlJyxcbi8vICAgIHJlZGlyZWN0X3VyaTogJ2h0dHA6Ly90cmVlc3JhZGlvLm5ldC9zb3VuZGNsb3VkL2NhbGxiYWNrLmh0bWwnXG4vL30pO1xuLy9jb25zb2xlLmxvZygnZ2V0dGluZyB0cmFja3MnKTtcbi8vU0MuZ2V0KCcvdHJhY2tzL2tpZC1jdWRpLW1hcmlqdWFuYScpLnRoZW4oZnVuY3Rpb24odHJhY2spe1xuLy8gICAgY29uc29sZS5sb2codHJhY2spO1xuLy8gICAgU0Muc3RyZWFtKCcvdHJhY2tzLycrdHJhY2suaWQpLnRoZW4oZnVuY3Rpb24gKHBsYXllcil7XG4vLyAgICAgICAgcGxheWVyLnBsYXkoKTtcbi8vICAgIH0pO1xuLy99KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
